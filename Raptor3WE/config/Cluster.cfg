@PART[FNB_R3_CLUSTER]
{
MODEL
	{
		model = Raptor3WE/Part/thrustTransform
         position = 0, 0, 0
        rotation = 90, 0, 0
        scale = 1, 1, 1
    }

MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
		gimbalRange = 8
 		gimbalResponseSpeed = 8
 		useGimbalResponseSpeed = true
	}
	@MODULE[ModuleEnginesFX],* {}

    {
    runningEffectName = running_loop   // 绑定持续喷射声音
    engageEffectName  = engage         // 点火
    flameoutEffectName = flameout      // 火焰熄灭
    }

	!MODULE[ModuleWaterfallFX],* {}
	!EFFECTS {}
	EFFECTS
	{
		running_loop
        {
            AUDIO
            {
                channel = Ship
                clip = Raptor3WE/Sounds/R3Fire
                volume = 0.0 0.0
                volume = 0.01 0.4
                volume = 1.0 1.0
                pitch = 0.0 0.7
                pitch = 1.0 1.0
                loop = true
            }
        }
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = Raptor3WE/Sounds/R3Ignite
				volume = 1.0
				pitch = 1.0
				loop = false
			}
		}
		disengage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 0.8
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = thrustTransform
				oneShot = true
				//localOffset = 0,0,1.8
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 0.8
				loop = false
			}
		}
	}
MODULE
{
	name = ModuleWaterfallFX
	moduleID = Cluster
	version = FixedRampRates
	ATMOSPHEREDENSITYCONTROLLER
	{
		name = atmosphereDepth
	}
	THROTTLECONTROLLER
	{
		responseRateUp = 100
		responseRateDown = 100
		engineID = Raptor_3_All
		name = Allthrottle
	}
	THROTTLECONTROLLER
	{
		responseRateUp = 100
		responseRateDown = 100
		engineID = Raptor_3_Inner
		name = Innerthrottle
	}
	THROTTLECONTROLLER
	{
		responseRateUp = 100
		responseRateDown = 100
		engineID = Raptor_3_2Inner
		name = 2Innerthrottle
	}
	THROTTLECONTROLLER
	{
		responseRateUp = 100
		responseRateDown = 100
		engineID = Raptor_3_Core
		name = Corethrottle
	}
	RANDOMNESSCONTROLLER
	{
		range = -1,1
		noiseType = random
		randomSeed = False
		seed = 0
		scale = 1
		minimum = 0
		speed = 1
		name = random
	}
	ENGINEEVENTCONTROLLER
	{
		eventName = flameout
		engineID = Raptor_3_All
		eventDuration = 2
		name = shutdown
		eventCurve
		{
			key = 0 0 0 0
			key = 1.2 1 0 0
			key = 2 1 0 0
		}
	}
	ENGINEEVENTCONTROLLER
	{
		eventName = flameout
		engineID = Raptor_3_Inner
		eventDuration = 2
		name = shutdown_Inner
		eventCurve
		{
			key = 0 0 0 0
			key = 1.2 1 0 0
			key = 2 1 0 0
		}
	}
	ENGINEEVENTCONTROLLER
	{
		eventName = flameout
		engineID = Raptor_3_2Inner
		eventDuration = 2
		name = shutdown_2Inner
		eventCurve
		{
			key = 0 0 0 0
			key = 1.2 1 0 0
			key = 2 1 0 0
		}
	}
	ENGINEEVENTCONTROLLER
	{
		eventName = flameout
		engineID = Raptor_3_Core
		eventDuration = 2
		name = shutdown_Core
		eventCurve
		{
			key = 0 0 0 0
			key = 1.2 1 0 0
			key = 2 1 0 0
		}
	}
	CUSTOMPUSHCONTROLLER
	{
		name = EngineMode
	}
	ENGINEEVENTCONTROLLER
	{
		eventName = ignition
		engineID = Raptor_3_Core
		eventDuration = 2
		name = startup_Core
		eventCurve
		{
			key = 0 0 0 0
			key = 2 2 0 0
		}
	}
	ENGINEEVENTCONTROLLER
	{
		eventName = ignition
		engineID = Raptor_3_2Inner
		eventDuration = 2
		name = startup_2Inner
		eventCurve
		{
			key = 0 0 0 0
			key = 2 2 0 0
		}
	}
	ENGINEEVENTCONTROLLER
	{
		eventName = ignition
		engineID = Raptor_3_Inner
		eventDuration = 2
		name = startup_Inner
		eventCurve
		{
			key = 0 0 0 0
			key = 2 2 0 0
		}
	}
	ENGINEEVENTCONTROLLER
	{
		eventName = ignition
		engineID = Raptor_3_All
		eventDuration = 4
		name = startup
		eventCurve
		{
			key = 0 0 0 0
			key = 4 4 0 0
		}
	}
	TEMPLATE
	{
		templateName = Outer
		position = 0,0,0
		rotation = 0,180,0
		scale = 0.675000012,0.675000012,0.675000012
		@scale:NEEDS[Kopernicus&RealSolarSystem] = 1.08,1.08,1.08
	}
}

}
