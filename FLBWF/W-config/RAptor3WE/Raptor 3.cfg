@PART[FNB_R3_CENTER|FNB_R3_BOOSTER]:NEEDS[Waterfall]{
	MODEL
	{
		model = Raptor3WE/Part/thrustTransform1
         position = 0, 0, 0
        rotation = 180, 0, 0
        scale = 0.1, 0.1, 0.1
    }
	@MODULE[ModuleEnginesFX],* {}

    {
    runningEffectName = running_loop   // 绑定持续喷射声音
    engageEffectName  = engage         // 点火
    flameoutEffectName = flameout      // 火焰熄灭
    }
MODULE
{
    name = HeightDetectModule
    // Waterfall 自定义控制器名字（必须与你在 Waterfall 设置的名字一致）
    heightController = Height
    waterController = Water
useDebug = true

    // 你想检测高度的 transform
    targetTransformName = thrustTransform1
}

    !MODULE[ModuleWaterfallFX],* {}
	!EFFECTS {}
	EFFECTS
	{
		running_loop
        {
            AUDIO
            {
                channel = Ship
                clip = Raptor3WE/Sounds/R3Fire
                volume = 0.0 0.0
                volume = 0.01 0.4
                volume = 0.8 0.8
                pitch = 0.0 0.7
                pitch = 1.0 1.0
                loop = true
            }
        }
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = Raptor3WE/Sounds/R3Ignite
				volume = 1.0
				pitch = 1.0
				loop = false
			}
		}
		disengage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 0.8
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = thrustTransform
				oneShot = true
				//localOffset = 0,0,1.8
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 0.8
				loop = false
			}
		}
	}
MODULE
{
	name = ModuleWaterfallFX
	moduleID = Raptor 3
	version = FixedRampRates
	CONTROLLER
    {
        name = atmosphereDepth
        linkedTo = atmosphere_density
    }
    CONTROLLER
    {
        name = throttle
        linkedTo = throttle
    }
    CONTROLLER
    {
        name = random
        linkedTo = random
        range = -1,1
    }
	ENGINEEVENTCONTROLLER
	{
		eventName = ignition
		eventDuration = 2
		name = startup
		eventCurve
		{
			key = 0 0 0 0
			key = 2 2 0 0
		}
	}
	ENGINEEVENTCONTROLLER
	{
		eventName = flameout
		engineID = Raptor 3
		eventDuration = 4
		name = shutdown
		eventCurve
		{
			key = 0 0 0 0
			key = 4 4 0 0
		}
	}
CONTROLLER
{
    name = Height
    linkedTo = custom
}
CONTROLLER
{
    name = Water
    linkedTo = custom
}

	TEMPLATE
	{
		templateName = Raptor3
		position = 0,0,0
		rotation = 0,180,0
		scale = 0.675000012,0.675000012,0.675000012
        @scale:NEEDS[Kopernicus&RealSolarSystem] = 1.08,1.08,1.08
	    }
    }
}
@PART[FNB_R3_VAC]:NEEDS[Waterfall]{
	MODEL
	{
		model = Raptor3WE/Part/thrustTransform1
         position = 0, 0, 0
        rotation = 180, 0, 0
        scale = 0.1, 0.1, 0.1
    }
	@MODULE[ModuleEnginesFX],* {}

    {
    runningEffectName = running_loop   // 绑定持续喷射声音
    engageEffectName  = engage         // 点火
    flameoutEffectName = flameout      // 火焰熄灭
    }
MODULE
{
    name = HeightDetectModule
    // Waterfall 自定义控制器名字（必须与你在 Waterfall 设置的名字一致）
    heightController = Height
    waterController = Water
useDebug = true

    // 你想检测高度的 transform
    targetTransformName = thrustTransform1
}

    !MODULE[ModuleWaterfallFX],* {}
	!EFFECTS {}
	EFFECTS
	{
		running_loop
        {
            AUDIO
            {
                channel = Ship
                clip = Raptor3WE/Sounds/R3Fire
                volume = 0.0 0.0
                volume = 0.01 0.4
                volume = 0.8 0.8
                pitch = 0.0 0.7
                pitch = 1.0 1.0
                loop = true
            }
        }
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = Raptor3WE/Sounds/R3Ignite
				volume = 1.0
				pitch = 1.0
				loop = false
			}
		}
		disengage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 0.8
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = thrustTransform
				oneShot = true
				//localOffset = 0,0,1.8
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 0.8
				loop = false
			}
		}
	}
MODULE
{
	name = ModuleWaterfallFX
	moduleID = Raptor 3 Vacuum
	version = FixedRampRates
	CONTROLLER
    {
        name = atmosphereDepth
        linkedTo = atmosphere_density
    }
    CONTROLLER
    {
        name = throttle
        linkedTo = throttle
    }
    CONTROLLER
    {
        name = random
        linkedTo = random
        range = -1,1
    }
	ENGINEEVENTCONTROLLER
	{
		eventName = ignition
		eventDuration = 2
		name = startup
		eventCurve
		{
			key = 0 0 0 0
			key = 2 2 0 0
		}
	}
	ENGINEEVENTCONTROLLER
	{
		eventName = flameout
		engineID = Raptor 3 Vacuum
		eventDuration = 4
		name = shutdown
		eventCurve
		{
			key = 0 0 0 0
			key = 4 4 0 0
		}
	}
CONTROLLER
{
    name = Height
    linkedTo = custom
}
CONTROLLER
{
    name = Water
    linkedTo = custom
}

	TEMPLATE
	{
		templateName = Raptor3Vacuum
		position = 0,0,1.5
		rotation = 0,180,0
		scale = 0.675000012,0.675000012,0.675000012
        @scale:NEEDS[Kopernicus&RealSolarSystem] = 1.08,1.08,1.08
	    }
    }
}